.loading_container{ ng_show: "loading" }
  = image_tag("loading.gif", class: "loading")
%div{ ng_hide: "authenticated || loading" }
  %h3 {{ !showLoginTab ? "Einloggen" : "Registrieren" }}
  %a{ ng_click: "showLoginTab=!showLoginTab; flash = undefined", href:"#" } oder {{ showLoginTab ? "einloggen" : "registrieren" }}?
  #flash{ ng_show: "flash" } {{ flash }}
  %form{ id: "register_form", name: "register_form", novalidate: true, ng_show: "showLoginTab" }
    .field_label_container
      .field_label E-Mail
    %input{ id: "email",
            name: "email",
            class: "username",
            ng_class: "{error: register_form.email.$dirty && register_form.email.$invalid}",
            ng_model: "registerCredentials.email",
            type: "email",
            required: true }
    .field_error_container
      .field_error{ ng_show: "register_form.email.$dirty && register_form.email.$invalid || errors.email" }
        %span{ ng_show: "errors.email", ng_repeat: "error in errors.email"} {{ error }}
        %span{ ng_show: "register_form.email.$error.email" } muss eine E-Mail Adresse sein
    .field_label_container
      .field_label Passwort
    %input{ id: "password",
            name: "password",
            class: "password",
            ng_class: "{error: register_form.password.$dirty && register_form.password.$invalid}",
            ng_model: "registerCredentials.password",
            type: "password",
            title: "muss mindestens 6 Zeichen enthalten",
            required: true,
            ng_minlength: 6 }
    .field_error_container
      .field_error{ ng_show: "register_form.password.$dirty && register_form.password.$invalid || errors.password" }
        %span{ ng_show: "errors.password", ng_repeat: "error in errors.password"} {{ error }}
        %span{ ng_show: "register_form.password.$error.minlength" } muss mindestens 6 Zeichen enthalten
    .field_label_container
      .field_label Passwortwiederholung
    %input{ id: "password_confirmation",
            name: "password_confirmation",
            class: "password",
            ng_class: "{error: register_form.password_confirmation.$dirty && register_form.password_confirmation.$invalid}",
            ng_model: "registerCredentials.password_confirmation",
            type: "password",
            required: true,
            password_match: "password",
            ng_minlength: 6 }
    .field_error_container
      .field_error{ ng_show: "register_form.password_confirmation.$dirty && register_form.password_confirmation.$invalid || register_form.password_confirmation.$error.pwmatch || errors.password_confirmation" }
        %span{ ng_show: "register_form.password_confirmation.$error.pwmatch" } stimmt nicht mit der Bestätigung überein
        %span{ ng_show: "errors.password_confirmation", ng_repeat: "error in errors.password_confirmation"} {{ error }}
    .button_container
      %button{ class: "sign_in",  ng_click: "performRegister()", ng_disabled: "register_form.$invalid" } Registrieren
      %button.abort{ ng_click: "closeThisDialog()" } Abbrechen

  %form{ id: "login_form", name: "login_form", novalidate: true, ng_hide: "showLoginTab" }
    .field_label_container
      .field_label E-Mail
    %input{ name: "email", class: "username", ng_model: "loginCredentials.email" }
    .field_label_container
      .field_label Passwort
    %input{ name: "password", class: "password", ng_model: "loginCredentials.password", type: "password" }
    .field_error_container
    .button_container
      %button{ class: "sign_in", ng_click: "performLogin()" } Anmelden
      %button.abort{ ng_click: "closeThisDialog()" } Abbrechen

#modal_user{ ng_show: "authenticated" }
  {{ user.email }}
  %button{ ng_click: "closeThisDialog()" } Ok
  %button{ ng_click: "performLogout()" } Ausloggen
